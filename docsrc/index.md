\mainpage dox++

**dox++** is a Clang-based documentation preparation system for C++.

!!! note m-block "Features"
    - API documented through Markdown-formatted comment blocks right next to the declarations.
    - Uses Clang to parse the header files, so all the latest C++ features are recognized. 
    - Generates a static and mobile-friendly HTML5 website that loads fast. 
    - Math rendered as embedded SVG, not as images or MathJax (**TODO**).
    - Using Pygments for better code highlighting.
    - Snappy client-side search functionality, fully controllable through the keyboard.

!!! attention ""
    [Fork it on GitHub](https://github.com/crisluengo/doxpp)


# Examples

- These pages are generated using **dox++**, and use the default light theme.

- There's [the documentation for an example project](example/index.html) generated by **dox++**,
  and using the default dark theme.


# Justification

Doxygen is the de-facto standard documentation system for C++. Its HTML output is not
flexible enough for many people, who resort to using the XML output and parsing that
into their own HTML. However, Doxygen's XML output has some issues and does not contain
all information present in the HTML output. For example, when using groups ("modules"),
the XML output does not have links for types documented in other groups. Doxygen also
often requires weird and frustrating workarounds where its Markdown parsing is incorrect.

There are several Doxygen alternatives, but none seemed suitable for my purposes.

**dox++** is yet another alternative, meant to be simple in implementation rather than feature
complete. It depends on Clang to parse the C++ header files.
It does the things I need it to do, but it might be lacking in areas that are
relevant to you. I invite you to improve on it and send a pull request. The project focus
is C++ code, not C code, and so some C features might be overlooked on purpose.

**dox++** follows the Doxygen syntax only partially. Most projects will require at least
a little bit of work to port over. See \ref doxygen_differences.


# Components

**dox++parse** produces a single JSON output for the whole project. This JSON file contains
all the information needed to produce documentation. It contains documentation for all
namespaces, classes, functions, variables, etc., even those without explicit documentation
blocks. It contains documentation for each header file and for each group, and it contains
additional pages. It links references to members across the project.
Typesetting, creating indices, etc. is left to the generator, which keeps the program simple.

**dox++html** produces a series of HTML files documenting the project, using the
JSON created by **dox++parse**. The generated HTML is based on [m.css](https://mcss.mosra.cz/),
and its fantastic Doxygen C++ theme, by Vladimír Vondruš. It is all static HTML5 with
customizable CSS, and wonderful client-side search functionality that uses JavaScript.

Other generators are considered.

See the \ref documentation to learn how to use these tools.

# What is missing

I'm sure there are lots of things missing I'm not even aware of. Here are a few missing things
that I am aware of:

1. Template parameters that are templated types are treated a bit too simplistically. It would
   be nice to turn referenced members here into links.

2. Link override and overridden functions together.

3. There's no way to have the literal text "`\‍ref`" (and similar commands) in the documentation,
   we need to avoid matching commands inside backticks or in code blocks (we're inserting the
   non-breaking zero-width word joiner U+200D after the backslash to show you this command
   in these pages).

4. References to a member that is injected into a different namespace it was declared in are not
   resolved (e.g. through a `using` statement, or members of an anonymous or inline namespace).

5. Clang doesn't easily report on pre-processor macros. Instead of making things complicated,
   we just require adding the `\macro` (or `\def`) command at the top of the documentation block.

6. Function arguments can not yet be individually documented. `\param`, `\return` and `\exception`
   are not yet supported.

7. Soon we'll have the ability to typeset equations from LaTeX strings.

8. We cannot yet include source code from another file, or create pages for example
   programs.


\page doxygen_differences Differences with Doxygen

**dox++** follows Doxygen syntax only partially. Here we highlight the more important
differences. See the \ref documentation for more details.

Changes from Doxygen are as follows:

1. Markup commands are passed as-is into the output JSON file, and left to the generator
   to parse. Our current generator does not parse any of the Doxygen markup commands, and
   assumes pure Markdown (which accepts HTML tags as well).
   Markdown formatting works also in page and section titles.

2. Documented members can belong to one group (module) at most. Groups form a tree structure.
   Grouping commands have the same names but work slightly differently (plus `\group` is an
   alias for `\defgroup`). We don't recognize `\{` and `\}`; instead, use `\addtogroup` and
   `\endgroup` (see \ref grouping_differences). `\weakgroup` is not recognized either.
   Namespace and class pages link back to the group they belong to, if applicable.

3. It is meant to parse header files only, not the implementation files. It documents the API
   of a library, not all the code in a project. It documents everything declared in the header
   files, even if no documentation block is associated to the declaration. The generator can
   choose what to output. Directories are not documented, only the header files themselves.

4. Commands intended to document members cannot define non-existing members. For example,
   the `\class <name>` command adds documentation to a class. The class must be declared somewhere
   in the header files. These comment blocks cannot define properties of the documented members,
   those properties must be reflected in the code itself. For example, `\extends`, `\pure` or
   `\static` are not recognized. Some of those commands have simpler interfaces:
   `\fn`, `\var` or `\typedef` don't take a declaration, only a name.
   Some commands have aliases that make more sense (for example `\macro` for `\def`,
   `\alias` for `\typedef`, `\function` for `\fn`).

5. Markdown files can contain comments with the `\comment` command. There is no empty page generated
   for Markdown files that contain member documentation.

6. Unique identifiers for members are fairly readable, and don't look like the hashes that
   Doxygen generates. This should allow the generator to create more meaningful URLs.

7. SFINAE template parameters are summarized as "<SFINAE\>". Multiple definitions of a template
   with different SFINAE results (such as when one version is defined for unsigned numeric types
   and another one for signed numeric types) are collapsed into a single (documented) template.

8. There is no "autolink", all links must be explicitly made with `\‍ref`. Consequently, it is
   not necessary to prepend `%` to avoid turning some words into links. `\‍ref` is used to link
   to anything in the documentation, not just pages and sections. `\link` and `\endlink` are
   not recognized.

9. The generator creates pages for undocumented classes, namespaces and files that have documented
   members. Thus, it is not necessary to document a file just to be able to document the functions
   that are declared in it.
